// Generated by CoffeeScript 1.10.0
var CONTROLS_CLOSED, CONTROLS_OPENED, DISTRICT_SEARCH, ERROR_RECEIVE_GEN_HEALTH_DATA, FILTER_USED, GenHealthChart, HIGHLIGHT_LINE, INIT_DONE, INIT_GEN_HEALTH, INIT_GEN_HEALTH_OFF, MOUSE_OVER, RECEIVE_GEN_HEALTH_DATA, REQUEST_GEN_HEALTH_DATA, TOGGLE_CATEGORY, TOGGLE_VALUE, UNHIGHLIGHT_LINE, genHealthInitState, objectAssign, ref;

objectAssign = require('object-assign');

ref = require('../../actions/health/general-health-actions.js'), REQUEST_GEN_HEALTH_DATA = ref.REQUEST_GEN_HEALTH_DATA, RECEIVE_GEN_HEALTH_DATA = ref.RECEIVE_GEN_HEALTH_DATA, TOGGLE_CATEGORY = ref.TOGGLE_CATEGORY, MOUSE_OVER = ref.MOUSE_OVER, HIGHLIGHT_LINE = ref.HIGHLIGHT_LINE, UNHIGHLIGHT_LINE = ref.UNHIGHLIGHT_LINE, TOGGLE_VALUE = ref.TOGGLE_VALUE, ERROR_RECEIVE_GEN_HEALTH_DATA = ref.ERROR_RECEIVE_GEN_HEALTH_DATA, FILTER_USED = ref.FILTER_USED, CONTROLS_OPENED = ref.CONTROLS_OPENED, CONTROLS_CLOSED = ref.CONTROLS_CLOSED, DISTRICT_SEARCH = ref.DISTRICT_SEARCH, INIT_GEN_HEALTH = ref.INIT_GEN_HEALTH, INIT_GEN_HEALTH_OFF = ref.INIT_GEN_HEALTH_OFF, INIT_DONE = ref.INIT_DONE;

genHealthInitState = {
  chartName: 'genHealthChart',
  isFetching: false,
  isDefault: true,
  isControlsOpen: false,
  _category: {
    value: 'countries',
    label: 'Geography (Countries)'
  },
  _value: {
    value: 'K04000001',
    label: 'England \& Wales'
  },
  activeCategory: 'Geography (Countries)',
  activeValue: 'England \& Wales',
  data: {},
  error: false,
  updateTable: false,
  _highlights: [],
  updateGenHealth: false,
  updateHighlights: false,
  district_query: 'default',
  _mouseOverData: {},
  init_gen_health: false,
  init_done: false
};

GenHealthChart = function(state, action) {
  if (state == null) {
    state = genHealthInitState;
  }
  switch (action.type) {
    case TOGGLE_CATEGORY:
      return objectAssign({}, state, {
        _category: action.category,
        updateGenHealth: false,
        updateHighlights: false,
        updateTable: false,
        init_gen_health: false
      });
    case TOGGLE_VALUE:
      return objectAssign({}, state, {
        _value: action.value,
        updateHighlights: false,
        updateGenHealth: false,
        init_gen_health: false,
        updateTable: false
      });
    case CONTROLS_OPENED:
      return objectAssign({}, state, {
        isControlsOpen: true,
        updateGenHealth: false,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case CONTROLS_CLOSED:
      return objectAssign({}, state, {
        isControlsOpen: false,
        updateGenHealth: false,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case DISTRICT_SEARCH:
      return objectAssign({}, state, {
        district_query: action.query,
        updateGenHealth: false,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case FILTER_USED:
      return objectAssign({}, state, {
        isDefault: false,
        updateGenHealth: false,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case INIT_GEN_HEALTH:
      return objectAssign({}, state, {
        init_gen_health: true,
        updateTable: false,
        updateHighlights: false
      });
    case INIT_GEN_HEALTH_OFF:
      return objectAssign({}, state, {
        init_gen_health: false,
        updateHighlights: false,
        updateTable: false
      });
    case INIT_DONE:
      return objectAssign({}, state, {
        init_done: true,
        updateGenHealth: false,
        updateTable: false,
        updateHighlights: false
      });
    case REQUEST_GEN_HEALTH_DATA:
      return objectAssign({}, state, {
        isFetching: true,
        updateGenHealth: false,
        updateTable: false,
        init_gen_health: false,
        updateHighlights: false
      });
    case RECEIVE_GEN_HEALTH_DATA:
      return objectAssign({}, state, {
        isFetching: false,
        data: action.data,
        activeCategory: state._category.label,
        activeValue: state._value.label,
        updateGenHealth: true,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case ERROR_RECEIVE_GEN_HEALTH_DATA:
      return objectAssign({}, state, {
        isFetching: false,
        error: true,
        errorMessage: action.error,
        init_gen_health: false,
        updateTable: false,
        updateHighlights: false
      });
    case MOUSE_OVER:
      return objectAssign({}, state, {
        updateGenHealth: false,
        _mouseOverData: action.mouseOverData,
        init_gen_health: false,
        updateTable: true,
        updateHighlights: false
      });
    case HIGHLIGHT_LINE:
      return objectAssign({}, state, {
        updateGenHealth: false,
        _highlights: state._highlights.concat([action.ethnicity]),
        init_gen_health: false,
        updateTable: false,
        updateHighlights: true
      });
    case UNHIGHLIGHT_LINE:
      return objectAssign({}, state, {
        updateGenHealth: false,
        _highlights: state._highlights.slice(0, action.index).concat(state._highlights.slice(action.index + 1)),
        init_gen_health: false,
        updateTable: false,
        updateHighlights: true
      });
    default:
      return state;
  }
};

module.exports = GenHealthChart;

//# sourceMappingURL=general-health-reducers.map
