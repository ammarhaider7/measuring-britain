// Generated by CoffeeScript 1.10.0
var MOUSE_OVER, RECEIVE_PYRAMID_DATA, REQUEST_PYRAMID_DATA, TOGGLE_CATEGORY, objectAssign, pyramid, pyramidChart, ref, ref1;

objectAssign = require('object-assign');

ref = require('../actions/demographics-actions.js'), RECEIVE_PYRAMID_DATA = ref.RECEIVE_PYRAMID_DATA, REQUEST_PYRAMID_DATA = ref.REQUEST_PYRAMID_DATA;

ref1 = require('../actions/actions.js'), TOGGLE_CATEGORY = ref1.TOGGLE_CATEGORY, MOUSE_OVER = ref1.MOUSE_OVER;

pyramid = {
  isFetching: false,
  category: 'default',
  value: 'default',
  data: []
};

pyramidChart = function(state, action) {
  if (state == null) {
    state = pyramid;
  }
  switch (action.type) {
    case TOGGLE_CATEGORY:
      return objectAssign({}, state, {
        category: action.category
      });
    case REQUEST_PYRAMID_DATA:
      return objectAssign({}, state, {
        isFetching: true
      });
    case RECEIVE_PYRAMID_DATA:
      return objectAssign({}, state, {
        isFetching: false,
        data: action.data,
        lastUpdated: action.receivedAt
      });
    default:
      return state;
  }
};

module.exports = pyramidChart;
