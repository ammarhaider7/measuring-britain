// Generated by CoffeeScript 1.10.0
var d3, parse;

d3 = require('d3');

parse = function(dataArray) {
  var d3ReadyData, d3_array, last, re, reLast, sum, total_item, utils;
  window.relBarsData = dataArray;
  total_item = dataArray.shift();
  re = /^\w+/;
  reLast = /\w+$/;
  last = function(str) {
    return str.substr(str.indexOf(':') + 2, str.length);
  };
  utils = {
    getValues: function(array) {
      return array.map(function(ob) {
        return ob.obs_value.value;
      });
    },
    percArray: function(array, sum) {
      return array.map(function(num) {
        return num / sum * 100;
      });
    }
  };
  sum = total_item.obs_value.value;
  d3_array = dataArray.map(function(ob) {
    return {
      name: ob.c_relpuk11.description,
      value: ob.obs_value.value
    };
  });
  d3ReadyData = {
    d3_array: d3_array,
    sum: sum
  };
  return d3ReadyData;
};

module.exports = parse;

//# sourceMappingURL=rel-bars-parser.map
