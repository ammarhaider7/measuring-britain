// Generated by CoffeeScript 1.10.0
var parse;

parse = function(dataArray) {
  var d3ReadyData, d3_array, getName, relBarsData, sum, total_item;
  relBarsData = dataArray;
  total_item = dataArray.shift();
  getName = function(ob) {
    if (ob.c_relpuk11.description === 'Religion not stated') {
      return 'Not stated';
    } else if (ob.c_relpuk11.description === 'Other religion') {
      return 'Other';
    } else {
      return ob.c_relpuk11.description;
    }
  };
  sum = total_item.obs_value.value;
  d3_array = dataArray.map(function(ob) {
    return {
      name: getName(ob),
      value: ob.obs_value.value
    };
  });
  d3_array.sort(function(a, b) {
    return b.value - a.value;
  });
  d3ReadyData = {
    d3_array: d3_array,
    sum: sum
  };
  return d3ReadyData;
};

module.exports = parse;

//# sourceMappingURL=rel-bars-parser.map
